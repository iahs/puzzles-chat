<h1>Chatroom directive</h1>

<div style="width:400px; float:right;">
    <div style="overflow:auto; height:247px;" id="chat-container">
        <ul class="list-group">
            <li ng-repeat="topic in topics" class="list-group-item" ng-class="{active: topic.index==activeTopic}" ng-click="chooseTopic(topic.index)" id="topic-{{topic.index}}">{{topic.title}}
                <ul>
                    <li ng-repeat="message in topic.messages"><span>{{ message.sender }}</span>:
                    {{ message.title }}</li>
                </ul>
            </li>
        </ul>
    </div>

    <form role="form" ng-submit="sendMessage()">
        <div class="form-group">
            <input ng-model="newMessage.title" type="text" placeholder="Message..." class="form-control" ng-disabled="activeTopic === undefined" />
            <button class="btn btn-primary">Post response</button>
        </div>
    </form>

    <br />

    <form role="form" ng-submit="createTopic()">
        <div class="form-group">
            <input ng-model="newTopic.title" type="text" placeholder="New topic..." class="form-control"/>
            <button class="btn btn-primary">Ask new question</button>
        </div>
    </form>
</div>
